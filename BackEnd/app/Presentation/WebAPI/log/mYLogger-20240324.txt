2024-03-24 00:53:16.276 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 00:53:16.333 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 01:05:27.814 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 01:05:27.888 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 01:05:28.161 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 01:05:28.162 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 01:14:05.466 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 01:14:05.984 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 01:14:05.987 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 01:14:05.989 +07:00 [INF] Hosting environment: Development
2024-03-24 01:14:05.990 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 01:14:07.013 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger - -
2024-03-24 01:14:07.669 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger - - - 301 0 - 659.4340ms
2024-03-24 01:14:07.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 01:14:07.986 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui.css - -
2024-03-24 01:14:07.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 01:14:07.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui-standalone-preset.js - -
2024-03-24 01:14:07.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 01:14:07.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui-bundle.js - -
2024-03-24 01:14:08.038 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 358.2808ms
2024-03-24 01:14:08.041 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 52.1015ms
2024-03-24 01:14:08.173 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-24 01:14:08.173 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-24 01:14:08.175 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui.css - - - 200 144929 text/css 189.1032ms
2024-03-24 01:14:08.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 187.4407ms
2024-03-24 01:14:08.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 194.6522ms
2024-03-24 01:14:08.202 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-24 01:14:08.204 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 214.7065ms
2024-03-24 01:14:08.381 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 01:14:08.574 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.3887ms
2024-03-24 01:18:52.546 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 01:18:52.692 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 01:18:52.696 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 01:18:52.697 +07:00 [INF] Hosting environment: Development
2024-03-24 01:18:52.698 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 01:18:52.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 01:18:53.353 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 01:18:53.354 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 460.7377ms
2024-03-24 01:18:53.361 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 01:18:53.369 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 6.5217ms
2024-03-24 01:18:53.375 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.5894ms
2024-03-24 01:18:53.610 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 01:18:53.787 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.7184ms
2024-03-24 01:41:56.911 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 01:41:57.123 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 01:41:57.127 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 01:41:57.128 +07:00 [INF] Hosting environment: Development
2024-03-24 01:41:57.129 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 01:41:57.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 01:41:57.595 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 01:41:57.596 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 01:41:57.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 367.7983ms
2024-03-24 01:41:57.600 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 4.1961ms
2024-03-24 01:41:57.609 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.3800ms
2024-03-24 01:41:57.779 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 01:41:57.788 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/favicon-32x32.png - -
2024-03-24 01:41:57.813 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-03-24 01:41:57.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/favicon-32x32.png - - - 200 628 image/png 27.1825ms
2024-03-24 01:41:57.956 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.6707ms
2024-03-24 02:06:11.175 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 02:06:11.480 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 02:06:11.483 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 02:06:11.484 +07:00 [INF] Hosting environment: Development
2024-03-24 02:06:11.485 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 02:06:11.638 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 02:06:11.948 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 312.7156ms
2024-03-24 02:06:11.973 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 02:06:11.976 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 02:06:11.979 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 2.8473ms
2024-03-24 02:06:11.996 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.8202ms
2024-03-24 02:06:12.286 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 02:06:12.436 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.6996ms
2024-03-24 02:08:09.384 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryXoznsCGUz7z8Bomx 337842
2024-03-24 02:08:09.398 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:08:09.405 +07:00 [WRN] Failed to determine the https port for redirect.
2024-03-24 02:08:09.411 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:08:09.468 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:08:18.284 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 8809.2744ms
2024-03-24 02:08:18.289 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:08:18.293 +07:00 [ERR] HTTP POST /api/Book/CreateBook responded 500 in 8888.6155 ms
FluentValidation.ValidationException: Validation failed: 
 -- Title: Belirtilen durum 'check title' için geçerli değil. Severity: Error
   at Application.Behevior.FluentValidationBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\FluentValidationBehevior.cs:line 32
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-03-24 02:08:18.360 +07:00 [ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Title: Belirtilen durum 'check title' için geçerli değil. Severity: Error
   at Application.Behevior.FluentValidationBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\FluentValidationBehevior.cs:line 32
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at infrastructure.Model.TokenMiddeware.Invoke(HttpContext context) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\infrastructure\Model\TokenMiddeware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-24 02:08:18.392 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryXoznsCGUz7z8Bomx 337842 - 500 - text/plain;+charset=utf-8 9008.1490ms
2024-03-24 02:08:25.219 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryYycByaIVd3aaUtDs 337848
2024-03-24 02:08:25.226 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:08:25.227 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:08:25.229 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:08:38.557 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:08:38.559 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:08:40.550 +07:00 [ERR] Failed executing DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[CreatedDate], [b].[ImageUrl], [b].[IsDeleted], [b].[OrderDetailId], [b].[Price], [b].[PublishedDate], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
2024-03-24 02:08:40.576 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'persistence.Context.AddDbContexts'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:865b77f6-c871-4454-bf62-b4e68205e9ee
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:865b77f6-c871-4454-bf62-b4e68205e9ee
Error Number:207,State:1,Class:16
2024-03-24 02:08:40.593 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 15362.2488ms
2024-03-24 02:08:40.596 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:08:40.597 +07:00 [ERR] HTTP POST /api/Book/CreateBook responded 500 in 15370.2386 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at persistence.Repositories.ReadRepositories`1.GetAllAsync(Expression`1 predicate, Func`2 include, Func`2 orderBy, Boolean enableTracking) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\persistence\Repositories\ReadRepositories.cs:line 49
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 27
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:865b77f6-c871-4454-bf62-b4e68205e9ee
Error Number:207,State:1,Class:16
2024-03-24 02:08:40.623 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at persistence.Repositories.ReadRepositories`1.GetAllAsync(Expression`1 predicate, Func`2 include, Func`2 orderBy, Boolean enableTracking) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\persistence\Repositories\ReadRepositories.cs:line 49
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 27
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at infrastructure.Model.TokenMiddeware.Invoke(HttpContext context) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\infrastructure\Model\TokenMiddeware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:865b77f6-c871-4454-bf62-b4e68205e9ee
Error Number:207,State:1,Class:16
2024-03-24 02:08:40.650 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryYycByaIVd3aaUtDs 337848 - 500 - text/plain;+charset=utf-8 15431.1567ms
2024-03-24 02:14:58.142 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 02:14:58.324 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 02:14:58.329 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 02:14:58.331 +07:00 [INF] Hosting environment: Development
2024-03-24 02:14:58.332 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 02:14:58.705 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 02:14:59.158 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 02:14:59.158 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 02:14:59.164 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 4.4414ms
2024-03-24 02:14:59.165 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 469.1325ms
2024-03-24 02:14:59.172 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.8501ms
2024-03-24 02:14:59.367 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 02:14:59.610 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 242.6486ms
2024-03-24 02:15:56.346 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryIuoy1SDHWh6RKKnN 337943
2024-03-24 02:15:56.356 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:15:56.375 +07:00 [WRN] Failed to determine the https port for redirect.
2024-03-24 02:15:56.382 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:15:56.440 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:15:56.549 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-24 02:15:56.572 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 124.3667ms
2024-03-24 02:15:56.576 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:15:56.580 +07:00 [INF] HTTP POST /api/Book/CreateBook responded 400 in 206.4614 ms
2024-03-24 02:15:56.590 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryIuoy1SDHWh6RKKnN 337943 - 400 - application/problem+json;+charset=utf-8 244.7446ms
2024-03-24 02:17:25.555 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 02:17:25.706 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 02:17:25.710 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 02:17:25.711 +07:00 [INF] Hosting environment: Development
2024-03-24 02:17:25.712 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 02:17:25.849 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 02:17:26.164 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 02:17:26.164 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 02:17:26.169 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 321.8183ms
2024-03-24 02:17:26.169 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 5.4039ms
2024-03-24 02:17:26.182 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.7271ms
2024-03-24 02:17:26.377 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 02:17:26.629 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.6904ms
2024-03-24 02:17:49.390 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundary0Yk1bbtB2bpZjOeD 178536
2024-03-24 02:17:49.400 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:17:49.406 +07:00 [WRN] Failed to determine the https port for redirect.
2024-03-24 02:17:49.415 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:17:49.478 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:17:49.613 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-24 02:17:49.633 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 147.0278ms
2024-03-24 02:17:49.637 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:17:49.641 +07:00 [INF] HTTP POST /api/Book/CreateBook responded 400 in 235.1044 ms
2024-03-24 02:17:49.648 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundary0Yk1bbtB2bpZjOeD 178536 - 400 - application/problem+json;+charset=utf-8 258.0318ms
2024-03-24 02:18:09.733 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryFlv4caOqCNFPCH5y 178544
2024-03-24 02:18:09.740 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:18:09.741 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:18:09.743 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:18:19.279 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:18:19.281 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:18:20.267 +07:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[CreatedDate], [b].[ImageUrl], [b].[IsDeleted], [b].[OrderDetailId], [b].[Price], [b].[PublishedDate], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
2024-03-24 02:18:20.346 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'persistence.Context.AddDbContexts'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1e946830-3846-40c7-9b89-4acb8e2ec201
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1e946830-3846-40c7-9b89-4acb8e2ec201
Error Number:207,State:1,Class:16
2024-03-24 02:18:20.360 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 10570.2662ms
2024-03-24 02:18:20.362 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:18:20.364 +07:00 [ERR] HTTP POST /api/Book/CreateBook responded 500 in 10622.9168 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at persistence.Repositories.ReadRepositories`1.GetAllAsync(Expression`1 predicate, Func`2 include, Func`2 orderBy, Boolean enableTracking) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\persistence\Repositories\ReadRepositories.cs:line 49
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 27
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:1e946830-3846-40c7-9b89-4acb8e2ec201
Error Number:207,State:1,Class:16
2024-03-24 02:18:20.452 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Quantity'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at persistence.Repositories.ReadRepositories`1.GetAllAsync(Expression`1 predicate, Func`2 include, Func`2 orderBy, Boolean enableTracking) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\persistence\Repositories\ReadRepositories.cs:line 49
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 27
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at infrastructure.Model.TokenMiddeware.Invoke(HttpContext context) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\infrastructure\Model\TokenMiddeware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:1e946830-3846-40c7-9b89-4acb8e2ec201
Error Number:207,State:1,Class:16
2024-03-24 02:18:20.494 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryFlv4caOqCNFPCH5y 178544 - 500 - text/plain;+charset=utf-8 10760.7291ms
2024-03-24 02:19:08.335 +07:00 [INF] User profile is available. Using 'C:\Users\Dien Bu's Cu's\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-24 02:19:08.509 +07:00 [INF] Now listening on: http://localhost:4200
2024-03-24 02:19:08.513 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-24 02:19:08.514 +07:00 [INF] Hosting environment: Development
2024-03-24 02:19:08.516 +07:00 [INF] Content root path: D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI
2024-03-24 02:19:08.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 02:19:09.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 02:19:09.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 02:19:09.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 493.7454ms
2024-03-24 02:19:09.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 4.7238ms
2024-03-24 02:19:09.169 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.3255ms
2024-03-24 02:19:09.335 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 02:19:09.541 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.7884ms
2024-03-24 02:19:16.104 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/index.html - -
2024-03-24 02:19:16.124 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/index.html - - - 200 - text/html;charset=utf-8 19.7015ms
2024-03-24 02:19:16.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_vs/browserLink - -
2024-03-24 02:19:16.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - -
2024-03-24 02:19:16.188 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 4.2543ms
2024-03-24 02:19:16.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.1577ms
2024-03-24 02:19:16.300 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - -
2024-03-24 02:19:16.328 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:4200/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 27.9915ms
2024-03-24 02:23:52.882 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryPujgnjcYo5RTXarL 337948
2024-03-24 02:23:52.891 +07:00 [INF] CORS policy execution successful.
2024-03-24 02:23:52.916 +07:00 [WRN] Failed to determine the https port for redirect.
2024-03-24 02:23:52.929 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:23:52.981 +07:00 [INF] Route matched with {action = "CreateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(Application.Features.Books.command.CreateBook.CreateBookCommandRequest) on controller WebAPI.Controllers.BookController (WebAPI).
2024-03-24 02:24:02.633 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:24:02.637 +07:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-03-24 02:24:03.640 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[CreatedDate], [b].[ImageUrl], [b].[IsDeleted], [b].[OrderDetailId], [b].[Price], [b].[PublishedDate], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
2024-03-24 02:24:03.723 +07:00 [INF] Executed action WebAPI.Controllers.BookController.CreateBook (WebAPI) in 10730.866ms
2024-03-24 02:24:03.732 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BookController.CreateBook (WebAPI)'
2024-03-24 02:24:03.740 +07:00 [ERR] HTTP POST /api/Book/CreateBook responded 500 in 10839.7032 ms
System.IO.DirectoryNotFoundException: Could not find a part of the path 'D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\wwwroot\image\maxresdefault.jpg'.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.Create(String path)
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 34
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-03-24 02:24:03.795 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.DirectoryNotFoundException: Could not find a part of the path 'D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\wwwroot\image\maxresdefault.jpg'.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.Create(String path)
   at Application.Features.Books.command.CreateBook.CreateBookCommandhandler.Handle(CreateBookCommandRequest request, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Features\Books\command\CreateBook\CreateBookCommandhandler.cs:line 34
   at Application.Behevior.RedisCacheBehevior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\eProject_team_3\EProject_team_3\BackEnd\app\core\Application\Behevior\RedisCacheBehevior.cs:line 38
   at WebAPI.Controllers.BookController.CreateBook(CreateBookCommandRequest requeste) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Presentation\WebAPI\Controllers\BookController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at infrastructure.Model.TokenMiddeware.Invoke(HttpContext context) in D:\eProject_team_3\EProject_team_3\BackEnd\app\Infrastructure\infrastructure\Model\TokenMiddeware.cs:line 29
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-24 02:24:03.844 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:4200/api/Book/CreateBook multipart/form-data;+boundary=----WebKitFormBoundaryPujgnjcYo5RTXarL 337948 - 500 - text/plain;+charset=utf-8 10961.8225ms
